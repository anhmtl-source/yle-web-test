<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Flyers Listening – level 3</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="style-dragdrop.css" rel="stylesheet"/>
<style>
    /* Popup xác nhận nộp bài - khủng long 3D (dùng riêng cho Listening) */
    .rw-confirm-overlay {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.25);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 3000;
    }
    .rw-confirm-overlay.active {
      display: flex;
      backdrop-filter: blur(6px);
    }
    .rw-confirm-modal {
      position: relative;
      background: radial-gradient(circle at 30% 20%, #fff3c4, #ffd569 60%, #f7b947 100%);
      border-radius: 26px;
      padding: 40px 32px 30px;
      min-width: 340px;
      text-align: center;
      box-shadow:
        0 25px 45px rgba(0,0,0,0.4),
        0 8px 20px rgba(0,0,0,0.25),
        inset 0 0 18px rgba(255,255,255,0.75);
      border: 3px solid transparent;
      background-clip: padding-box;
    }
    .rw-confirm-modal::before {
      content: "";
      position: absolute;
      inset: -4px;
      border-radius: 30px;
      background: linear-gradient(135deg, #fff1a8, #ff9f40, #ffdd8c);
      z-index: -1;
    }
    .rw-confirm-title {
      position: absolute;
      top: -22px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(145deg, #ffffff, #ffe7a3);
      padding: 10px 32px;
      border-radius: 20px;
      font-weight: 800;
      font-size: 17px;
      color: #d4002f;
      box-shadow:
        0 10px 25px rgba(0,0,0,0.22),
        inset 0 0 10px rgba(255,255,255,0.6);
    }
    .rw-confirm-close {
      position: absolute;
      top: -16px;
      right: -16px;
      background: linear-gradient(135deg, #ff5f5f, #cc0000);
      width: 34px;
      height: 34px;
      border-radius: 50%;
      border: none;
      color: #fff;
      font-weight: 700;
      font-size: 18px;
      cursor: pointer;
      box-shadow:
        0 10px 20px rgba(255,0,0,0.55),
        inset 0 0 10px rgba(255,255,255,0.4);
      transition: 0.15s ease;
    }
    .rw-confirm-close:hover {
      transform: translateY(-2px) scale(1.08);
      box-shadow:
        0 14px 28px rgba(255,0,0,0.7),
        inset 0 0 12px rgba(255,255,255,0.6);
    }
    .rw-confirm-message {
      margin-top: 12px;
      font-size: 17px;
      color: #14532d;
      text-shadow: 0 1px 0 #fff;
    }
    .rw-confirm-submit {
      margin-top: 24px;
      padding: 14px 38px;
      font-size: 16px;
      font-weight: 700;
      border-radius: 30px;
      color: #fff;
      background: linear-gradient(145deg, #ff9d2f, #ff6a00 60%, #e25500);
      box-shadow:
        0 18px 35px rgba(255,111,0,0.55),
        0 6px 12px rgba(0,0,0,0.25),
        inset 0 0 12px rgba(255,255,255,0.5);
      border: none;
      cursor: pointer;
      transition: 0.2s ease;
    }
    .rw-confirm-submit:hover {
      transform: translateY(-4px) scale(1.06);
      box-shadow:
        0 25px 40px rgba(255,111,0,0.75),
        inset 0 0 14px rgba(255,255,255,0.7);
    }
    .rw-confirm-submit:active {
      transform: translateY(0px) scale(0.97);
      box-shadow:
        0 10px 22px rgba(255,111,0,0.5),
        inset 0 0 8px rgba(255,255,255,0.4);
    }
    
    /* Pháo hoa nhẹ khi popup khiên Listening xuất hiện */
    .shield-overlay.active::before,
    .shield-overlay.active::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,0.9) 0, transparent 40%),
        radial-gradient(circle at 80% 20%, rgba(255,255,255,0.9) 0, transparent 40%),
        radial-gradient(circle at 15% 80%, rgba(255,255,255,0.9) 0, transparent 40%),
        radial-gradient(circle at 85% 75%, rgba(255,255,255,0.9) 0, transparent 40%);
      mix-blend-mode: screen;
      opacity: 0;
      animation: fireworks 1.2s ease-out forwards;
    }
    @keyframes fireworks {
      0% {
        opacity: 0;
        transform: scale(0.6);
      }
      40% {
        opacity: 1;
        transform: scale(1);
      }
      100% {
        opacity: 0;
        transform: scale(1.3);
      }
    }
</style>
</head>
<body>
<div class="exam-shell">
<header class="exam-header compact">
<div class="exam-title-block">
<h1>Level 3 – Flyers Listening</h1>
</div>
<div class="timer-3d">
<div class="timer-3d-inner">
<div class="timer-3d-face">
<span id="globalTimer">25:00</span>
</div>
</div>
</div>
</header>
<!-- NAV GIỮA 4 PARTS -->
<nav class="part-nav">
<button class="active" data-part="1">Part 1</button>
<button data-part="2">Part 2</button>
<button data-part="3">Part 3</button>
<button data-part="4">Part 4</button>
<button data-part="5">Part 5</button>
</nav>
<!-- ================= PART 1 ================= -->
<section class="part-panel" id="part1">
<h2>PART 1 – Listen and drag the names</h2>
<!-- Audio Part 1: sửa src cho đúng file của em -->
<audio id="audioP1" src="Media/audio/01. Test 3 - Q1 - Part 1.mp3"></audio>
<div class="yl-audio-player" data-audio="audioP1">
<button class="yl-play-btn" type="button"></button>
<span class="yl-time">00:00 / 00:00</span>
<div class="yl-bar">
<div class="yl-bar-fill"></div>
</div>
</div>
<div class="p1-layout">
<!-- Tranh lớn -->
<div class="p1-image-wrapper">
<!-- sửa src cho đúng hình Part 1 -->
<img alt="Part 1 picture" class="main-img" src="Media/images/Flyers- LISTENING/f1t3p1.jpg"/>
<!-- Các drop-box đặt đúng vị trí nhân vật, data-answer là tên đúng -->
<div class="drop-box" data-answer="Sarah" style="top: 20%; left: 45%;"></div>
<div class="drop-box" data-answer="Frank" style="top: 40%; left: 37%;"></div>
<div class="drop-box" data-answer="Katy" style="top: 60%; left: 25%;"></div>
<div class="drop-box" data-answer="Jack" style="top: 15%; left: 55%;"></div>
<div class="drop-box" data-answer="Helen" style="top: 42%; left: 55%;"></div>
</div>
<!-- Ngân hàng tên để kéo -->
<div class="p1-name-bank">
<div class="name-pill" data-name="Daisy" draggable="true">Daisy</div>
<div class="name-pill" data-name="Robert" draggable="true">Robert</div>
<div class="name-pill" data-name="Paul" draggable="true">Paul</div>
<div class="name-pill" data-name="Betty" draggable="true">Betty</div>
<div class="name-pill" data-name="Charlie" draggable="true">Charlie</div>
<div class="name-pill" data-name="Katy" draggable="true">Katy</div>
<div class="name-pill" data-name="Sally" draggable="true">Sally</div>
</div>
</div>
</section>
<!-- ================= PART 2 ================= -->
<section class="part-panel hidden" id="part2">
<h2>PART 2 – Listen and write. There is one example.</h2>
<!-- Audio Part 2 -->
<audio id="audioP2" src="Media/audio/02. Test 3 - Q1 - Part 2.mp3"></audio>
<div class="yl-audio-player" data-audio="audioP2">
<button class="yl-play-btn" type="button"></button>
<span class="yl-time">00:00 / 00:00</span>
<div class="yl-bar">
<div class="yl-bar-fill"></div>
</div>
</div>
<div class="p2-layout">
<div class="p2-image-card">
<!-- sửa hình Part 2 -->
<img alt="Part 2 picture" class="main-img" src="Media/images/Flyers- LISTENING/f1t3p2.jpg"/>
</div>
		<div class="p2-questions p2-textmode">
		  <!-- Example -->
		  <div class="p2-example">
		    <div class="p2-row example p2-inline">
		      <span class="p2-ex-label">Example:</span>
		      <span>Class Time of race:</span>
		      <span class="p2-inline-answer">midday</span>
		    </div>
		  </div>

	  <!-- 5 câu (ô trống dạng gạch chân) -->
		  <div class="p2-row p2-inline" data-answer="bridge">
		    <span class="p2-qnum">1.</span>
		    <span>Race starts from the:</span>
		    <input class="p2-input" id="p2q1" type="text" autocomplete="off" />
		  </div>

		  <div class="p2-row p2-inline" data-answer="stripes">
		    <span class="p2-qnum">2.</span>
		    <span>David will wear the T-shirt with: the the</span>
		    <input class="p2-input" id="p2q2" type="text" autocomplete="off" />
		    <span></span>
		  </div>

		  <div class="p2-row p2-inline" data-answer="pasta">
		    <span class="p2-qnum">3.</span>
		    <span>Before the race he will eat:</span>
		    <input class="p2-input" id="p2q3" type="text" autocomplete="off" />
		    <span></span>
		  </div>

		  <div class="p2-row p2-inline" data-answer="flag">
		    <span class="p2-qnum">4.</span>
		    <span>At the finishing line there will be a:</span>
		    <input class="p2-input" id="p2q4" type="text" autocomplete="off" />
		    <span></span>
		  </div>

		  <div class="p2-row p2-inline" data-answer="picnic">
		    <span class="p2-qnum">5.</span>
		    <span>After the race David and his friends will have a:</span>
		    <input class="p2-input" id="p2q5" type="text" autocomplete="off" />in the park
		  </div>
</div>
</div>
</section>
<!-- ================= PART 3 ================= -->
<section class="part-panel hidden movers-part3" id="part3">
<div class="m3-shell">
<!-- ===== LEFT (SCROLL) – 8 pictures bank + example ===== -->
<div aria-label="Picture bank" class="m3-left">
<!-- Header + Audio (moved from right) -->
<div class="m3-left-header">
<h2 class="m3-title">PART 3 – Listen and write a letter in each box.</h2>
<p class="m3-subtitle">Look at the pictures. Look at the letters. Listen and write a letter (A–H) for each person.</p>
<!-- Audio Part 3 -->
<audio id="audioP3" src="Media/audio/03. Test 3 - Q1 - Part 3.mp3"></audio>
<div class="yl-audio-player" data-audio="audioP3">
<button class="yl-play-btn" type="button"></button>
<span class="yl-time">00:00 / 00:00</span>
<div class="yl-bar"><div class="yl-bar-fill"></div></div>
</div>
</div>
<div class="m3-bank">
<div class="m3-bank-grid">
<!-- Row 1 (3) -->
<div class="m3-bank-item" data-letter="A">
<div class="m3-bank-img"><img alt="A" src="Media/images/Flyers- LISTENING/f1t3p3_a.png"/></div>
<div class="m3-bank-letter">A</div>
</div>
<div class="m3-bank-item" data-letter="B">
<div class="m3-bank-img"><img alt="B" src="Media/images/Flyers- LISTENING/f1t3p3_b.png"/></div>
<div class="m3-bank-letter">B</div>
</div>
<div class="m3-bank-item" data-letter="C">
<div class="m3-bank-img"><img alt="C" src="Media/images/Flyers- LISTENING/f1t3p3_c.png"/></div>
<div class="m3-bank-letter">C</div>
</div>
<!-- Row 2 (3) -->
<div class="m3-bank-item" data-letter="D">
<div class="m3-bank-img"><img alt="D" src="Media/images/Flyers- LISTENING/f1t3p3_d.png"/></div>
<div class="m3-bank-letter">D</div>
</div>
<div class="m3-bank-item" data-letter="E">
<div class="m3-bank-img"><img alt="E" src="Media/images/Flyers- LISTENING/f1t3p3_e.png"/></div>
<div class="m3-bank-letter">E</div>
</div>
<div class="m3-bank-item" data-letter="F">
<div class="m3-bank-img"><img alt="F" src="Media/images/Flyers- LISTENING/f1t3p3_f.png"/></div>
<div class="m3-bank-letter">F</div>
</div>
<!-- Row 3 (2) -->
<div class="m3-bank-item" data-letter="G">
<div class="m3-bank-img"><img alt="G" src="Media/images/Flyers- LISTENING/f1t3p3_g.png"/></div>
<div class="m3-bank-letter">G</div>
</div>
<div class="m3-bank-item" data-letter="H">
<div class="m3-bank-img"><img alt="H" src="Media/images/Flyers- LISTENING/f1t3p3_h.png"/></div>
<div class="m3-bank-letter">H</div>
</div>
<div aria-hidden="true" class="m3-bank-spacer"></div>
</div>
</div>
<!-- Example row (same style as questions) -->
<div class="m3-left-example">
<div class="m3-left-example-title">Example</div>
<div class="m3-row example" data-example="true">
<div class="m3-person">
<div class="m3-avatar-card">
<img alt="Example" src="Media/images/Flyers- LISTENING/F1t3p3 Emma.png"/>
<div class="m3-avatar-label">emma</div>
</div>
</div>
<div aria-hidden="true" class="m3-dots"></div>
<input class="m3-answer" disabled="" type="text" value="B"/>
</div>
</div>
</div>
<!-- Divider -->
<div aria-hidden="true" class="m3-divider"></div>
<!-- ===== RIGHT (FIXED) – 5 answers ===== -->
<div class="m3-right">
<div class="m3-right-fixed">
<div class="m3-questions">
<!-- Q1..Q5: đổi src ảnh nhân vật bằng link của em; đổi data-answer để chấm -->
<div class="m3-row" data-answer="G" data-q="1">
<div class="m3-person">
<div class="m3-avatar-card">
<img alt="Person 1" src="Media/images/Flyers- LISTENING/F1t3p3 Sally.png"/>
<div class="m3-avatar-label">Sally</div>
</div>
</div>
<div aria-hidden="true" class="m3-dots"></div>
<input autocomplete="off" class="m3-answer" inputmode="latin" maxlength="1" type="text"/>
</div>
<div class="m3-row" data-answer="D" data-q="2">
<div class="m3-person">
<div class="m3-avatar-card">
<img alt="Person 2" src="Media/images/Flyers- LISTENING/F1t3p3 Oliver.png"/>
<div class="m3-avatar-label">Oliver</div>
</div>
</div>
<div aria-hidden="true" class="m3-dots"></div>
<input autocomplete="off" class="m3-answer" inputmode="latin" maxlength="1" type="text"/>
</div>
<div class="m3-row" data-answer="H" data-q="3">
<div class="m3-person">
<div class="m3-avatar-card">
<img alt="Person 3" src="Media/images/Flyers- LISTENING/F1t3p3 Michael.png"/>
<div class="m3-avatar-label">Michael</div>
</div>
</div>
<div aria-hidden="true" class="m3-dots"></div>
<input autocomplete="off" class="m3-answer" inputmode="latin" maxlength="1" type="text"/>
</div>
<div class="m3-row" data-answer="E" data-q="4">
<div class="m3-person">
<div class="m3-avatar-card">
<img alt="Person 4" src="Media/images/Flyers- LISTENING/F1t3p3 Kim.png"/>
<div class="m3-avatar-label">Kim</div>
</div>
</div>
<div aria-hidden="true" class="m3-dots"></div>
<input autocomplete="off" class="m3-answer" inputmode="latin" maxlength="1" type="text"/>
</div>
<div class="m3-row" data-answer="C" data-q="5">
<div class="m3-person">
<div class="m3-avatar-card">
<img alt="Person 5" src="Media/images/Flyers- LISTENING/f1t3p3 jane.png"/>
<div class="m3-avatar-label">Jane</div>
</div>
</div>
<div aria-hidden="true" class="m3-dots"></div>
<input autocomplete="off" class="m3-answer" inputmode="latin" maxlength="1" type="text"/>
</div>
</div>
</div>
</div>
</div>
</section>
<!-- ================= PART 4 ================= -->
<section class="part-panel hidden" id="part4">
<h2>PART 4 – Listen and tick (✓) the box. There is one example.</h2>
<!-- Audio Part 4 -->
<audio id="audioP4" src="Media/audio/04. Test 3 - Q1 - Part 4.mp3"></audio>
<!-- AUDIO -->
<div class="yl-audio-player" data-audio="audioP4">
<button class="yl-play-btn" type="button"></button>
<span class="yl-time">00:00 / 00:00</span>
<div class="yl-bar"><div class="yl-bar-fill"></div></div>
</div>
<!-- LAYOUT 2 CỘT -->
<div class="p3-container">
<!-- ===== CỘT TRÁI – CỐ ĐỊNH ===== -->
<div class="p3-left">
<h3 class="p3-left-title">Example</h3>
<div class="p3-example">
<p class="p3-question-text">What’s the new museum near to?</p>
<div class="p3-example-options">
<!-- A -->
<label class="p3-option">
<input checked="" disabled="" type="radio"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_a.png"/></span>
<span class="p3-letter-wrap">
<span class="p3-bullet"></span>
<span class="p3-letter">A</span>
</span>
</label>
<!-- B -->
<label class="p3-option">
<input disabled="" type="radio"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_b.png"/></span>
<span class="p3-letter-wrap">
<span class="p3-bullet"></span>
<span class="p3-letter">B</span>
</span>
</label>
<!-- C -->
<label class="p3-option">
<input disabled="" type="radio"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_c.png"/></span>
<span class="p3-letter-wrap">
<span class="p3-bullet"></span>
<span class="p3-letter">C</span>
</span>
</label>
</div>
</div>
</div>
<!-- ===== VẠCH NGĂN ===== -->
<div class="p3-divider"></div>
<!-- ===== CỘT PHẢI – CUỘN ===== -->
<div class="p3-right">
<!-- ==== Q1 ==== -->
<div class="p3-card" data-answer="C" data-q="1">
<p class="p3-q-title">1.  What did Grace like best in the museum? </p>
<div class="p3-options-row">
<label class="p3-option">
<input name="p4_q1" type="radio" value="A"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q1a.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>A</span>
</label>
<label class="p3-option">
<input name="p4_q1" type="radio" value="B"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q1b.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>B</span>
</label>
<label class="p3-option">
<input name="p4_q1" type="radio" value="C"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q1c.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>C</span>
</label>
</div>
</div>
<!-- ==== Q2 ==== -->
<div class="p3-card" data-answer="B" data-q="2">
<p class="p3-q-title">2. What did Grace do first? </p>
<div class="p3-options-row">
<label class="p3-option">
<input name="p4_q2" type="radio" value="A"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q2a.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>A</span>
</label>
<label class="p3-option">
<input name="p4_q2" type="radio" value="B"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q2b.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>B</span>
</label>
<label class="p3-option">
<input name="p4_q2" type="radio" value="C"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q2c.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>C</span>
</label>
</div>
</div>
<!-- ==== Q3 ==== -->
<div class="p3-card" data-answer="A" data-q="3">
<p class="p3-q-title">3. What was the film about?</p>
<div class="p3-options-row">
<label class="p3-option">
<input name="p4_q3" type="radio" value="A"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q3a.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>A</span>
</label>
<label class="p3-option">
<input name="p4_q3" type="radio" value="B"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q3b.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>B</span>
</label>
<label class="p3-option">
<input name="p4_q3" type="radio" value="C"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q3c.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>C</span>
</label>
</div>
</div>
<!-- ==== Q4 ==== -->
<div class="p3-card" data-answer="B" data-q="4">
<p class="p3-q-title">4. What was the treasure box made of?</p>
<div class="p3-options-row">
<label class="p3-option">
<input name="p4_q4" type="radio" value="A"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q4a.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>A</span>
</label>
<label class="p3-option">
<input name="p4_q4" type="radio" value="B"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q4b.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>B</span>
</label>
<label class="p3-option">
<input name="p4_q4" type="radio" value="C"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q4c.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>C</span>
</label>
</div>
</div>
<!-- ==== Q5 ==== -->
<div class="p3-card" data-answer="C" data-q="5">
<p class="p3-q-title">5. What will Grace have to take to class tomorrow?</p>
<div class="p3-options-row">
<label class="p3-option">
<input name="p4_q5" type="radio" value="A"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q5a.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>A</span>
</label>
<label class="p3-option">
<input name="p4_q5" type="radio" value="B"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q5b.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>B</span>
</label>
<label class="p3-option">
<input name="p4_q5" type="radio" value="C"/>
<span class="p3-img"><img src="Media/images/Flyers- LISTENING/f1t3p4_q5c.png"/></span>
<span class="p3-letter-wrap"><span class="p3-bullet"></span>C</span>
</label>
</div>
</div>
</div>
</div>
</section>
<!-- ================= PART 5 ================= -->
<section class="part-panel hidden" id="part5">
<h2>PART 5 – Listen and colour</h2>
<p>Listen and choose the correct colour for each object. There is one example.</p>

<audio id="audioP5" src="Media/audio/05. Test 3 - Q1 - Part 5.mp3"></audio>
<div class="yl-audio-player" data-audio="audioP5">
  <button class="yl-play-btn" type="button"></button>
  <span class="yl-time">00:00 / 00:00</span>
  <div class="yl-bar"><div class="yl-bar-fill"></div></div>
</div>

<div class="p4-layout">
  <!-- LEFT: picture with drop zones -->
  <div class="p4-left">
    <div class="p4-image-card">
      <img alt="Part 5 picture" src="Media/images/Flyers- LISTENING/f1t3p5.jpg"/>

      
      <!-- WRITE ZONES (Cambridge-style): type the word on the sign -->
      <!-- Accepts both UPPERCASE/lowercase (graded case-insensitive) -->
      <div class="p5-write-zone" data-answer="SUGAR" style="top: 80%; left: 55%; width: 18%; height: 7%;">
        <input class="p5-write-input" type="text" autocomplete="off" spellcheck="false" aria-label="write SUGAR">
      </div>

      <div class="p5-write-zone" data-answer="OLIVES" style="top: 12%; left: 50%; width: 18%; height: 7%;">
        <input class="p5-write-input" type="text" autocomplete="off" spellcheck="false" aria-label="write OLIVES">
      </div>

<div class="p4-drop-zone" data-slot="1" data-answer="red" style="top: 15%; left: 15%; width: 4%; height: 4%;"></div>
      <div class="p4-drop-zone" data-slot="2" data-answer="orange" style="top: 25%; left: 15%; width: 4%; height: 4%;"></div>
      <div class="p4-drop-zone" data-slot="4" data-answer="blue" style="top: 42%; left: 80%; width: 4%; height: 4%;"></div>

    </div>
  </div>

  <div class="p4-divider"></div>

  <!-- RIGHT: crayons -->
  <div class="p4-right">
    <div class="p4-crayon" data-color="green" style="--crayon-color:#22c55e;">
      <img alt="green crayon" class="p4-crayon-icon" src="Media/images/icons/green.png"/>
      <span class="p4-crayon-label">green</span>
    </div>

    <div class="p4-crayon" data-color="red" style="--crayon-color:#ef4444;">
      <img alt="red crayon" class="p4-crayon-icon" src="Media/images/icons/red.png"/>
      <span class="p4-crayon-label">red</span>
    </div>

    <div class="p4-crayon" data-color="purple" style="--crayon-color:#a855f7;">
      <img alt="purple crayon" class="p4-crayon-icon" src="Media/images/icons/purple.png"/>
      <span class="p4-crayon-label">purple</span>
    </div>

    <div class="p4-crayon" data-color="yellow" style="--crayon-color:#eab308;">
      <img alt="yellow crayon" class="p4-crayon-icon" src="Media/images/icons/yellow.png"/>
      <span class="p4-crayon-label">yellow</span>
    </div>

    <div class="p4-crayon" data-color="orange" style="--crayon-color:#f97316;">
      <img alt="orange crayon" class="p4-crayon-icon" src="Media/images/icons/orange.png"/>
      <span class="p4-crayon-label">orange</span>
    </div>

    <div class="p4-crayon" data-color="lightblue" style="--crayon-color:#38bdf8;">
      <img alt="light blue crayon" class="p4-crayon-icon" src="Media/images/icons/lightblue.png"/>
      <span class="p4-crayon-label">light blue</span>
    </div>

    <div class="p4-crayon" data-color="pink" style="--crayon-color:#ec4899;">
      <img alt="pink crayon" class="p4-crayon-icon" src="Media/images/icons/pink.png"/>
      <span class="p4-crayon-label">pink</span>
    </div>
  </div>
</div>
</section>
<!-- KẾT QUẢ + NÚT ĐIỀU HƯỚNG -->
<div class="bottom-nav">
<button aria-label="Previous part" class="nav-arrow nav-arrow-left" id="btnPrev" onclick="goPrevPart()">
<span class="arrow-icon">‹</span>
</button>
<button aria-label="Next part" class="nav-arrow nav-arrow-right" id="btnNext" onclick="goNextPart()">
<span class="arrow-icon">›</span>
</button>
</div>
<div class="submit-row">
<button class="primary" id="btnSubmit" type="button">Nộp toàn bài</button>
</div>
<!-- POPUP XÁC NHẬN NỘP BÀI (LISTENING) -->
<div class="rw-confirm-overlay" id="lsConfirmSubmit">
<div class="rw-confirm-modal">
<button class="rw-confirm-close" type="button">×</button>
<div class="rw-confirm-title">THÔNG BÁO</div>
<p class="rw-confirm-message">
      Bạn có chắc chắn muốn nộp bài thi không?
    </p>
<button class="rw-confirm-submit" type="button">NỘP BÀI</button>
</div>
</div>
</div> <!-- /.exam-shell -->
<!-- POPUP KẾT QUẢ KHIÊN -->
<div class="shield-overlay hidden" id="shieldResult">
<div class="shield-modal">
<button class="shield-close" onclick="closeShieldResult()" type="button">×</button>
<h2>Chúc mừng bạn đã đạt được</h2>
<div class="shield-icons" id="shieldIcons"></div>
<p class="shield-count"><span id="shieldCount">0</span> khiên</p>
</div>
</div>
<script>
  (function () {
    const crayons = document.querySelectorAll('#part5 .p4-crayon');
    const zones = document.querySelectorAll('#part5 .p4-drop-zone');
    let dragged = null;

    crayons.forEach(crayon => {
      crayon.setAttribute('draggable', 'true');

      crayon.addEventListener('dragstart', function () {
        dragged = crayon;
        crayon.classList.add('dragging');
      });

      crayon.addEventListener('dragend', function () {
        crayon.classList.remove('dragging');
        dragged = null;
      });
    });

    zones.forEach(zone => {
      zone.addEventListener('dragover', function (e) {
        e.preventDefault();
        zone.classList.add('over');
      });

      zone.addEventListener('dragleave', function () {
        zone.classList.remove('over');
      });

      zone.addEventListener('drop', function (e) {
        e.preventDefault();
        zone.classList.remove('over');
        if (!dragged) return;

        const crayonColor = getComputedStyle(dragged)
          .getPropertyValue('--crayon-color')
          .trim();

        zone.dataset.color = dragged.dataset.color;
        zone.style.setProperty('--zone-color', crayonColor);
      });

      // Double–click để xóa màu vùng đó
      zone.addEventListener('dblclick', function () {
        zone.dataset.color = '';
        zone.style.removeProperty('--zone-color');
      });
    });
  })();
</script>
<script src="script-dragdrop.js"></script>
<script src="yle.js"></script>
</body>
</html>
